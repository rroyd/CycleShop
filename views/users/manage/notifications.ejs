<section class="container grid my-5">
  <div class="row container">
    <h1 class="bold border-left">Notifications</h1>
    <p>Get notifications about recent updates about your listings, comments, etc.</p>
  </div>

  <% if (userNotifications.length) { %>
  <% for (let {_id, type, userFrom, description} of userNotifications.reverse()) { %>
  <div class="container w-auto grid card my-4">
    <div class="row">
      <div class="card p-0 border border-secondary-subtle bg-body-tertiary text-start">
        <div class="card-header noti bg-white m-0 p-3">
          <h4 class="bold d-inline-block card-title text-success" data-bs-toggle="collapse" href="#<%=_id%>" role="button" aria-expanded="false" aria-controls="<%=_id%>"><%= type %></h4>
          <div class="mx-2 vr"></div>
          <p class="d-inline-block text-secondary">2hrs ago</p>
          <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
              <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3" />
            </svg>
          </button>
          <ul class="dropdown-menu">
            <form action="/notifications/<%= _id %>?_method=DELETE" method="post">
              <li class="dropdown-item"><button class="btn">Mark as read</button></li>
            </form>
          </ul>
        </div>
        <span id="<%= _id %>">
          <div class="card-subtitle text-end p-1 px-3 curved text-light bg-success">
            <a href="/users/<%= userFrom._id %>/profile" class="text-light"><%= userFrom.username %></a>
          </div>
          <div class="card-body bg-body-tertiary">
            <div class="bg-white p-2 border border-body-tertiary m-2">
              <%= description %>
            </div>
            <!-- <div class="d-flex justify-content-end gap-2">
              <button class="d-inline-block w-auto btn btn-danger">Decline</button>
              <button class="d-inline-block w-auto btn btn-success">Accept</button>w
            </div> -->
          </div>
        </span>
      </div>
    </div>
  </div>
  <% } %>
  <% } else {%>
  <div class="container">
    <h3 class="text-center">No new notifications</h3>
  </div>
  <% } %>



</section>